window.__require=function t(o,e,n){function i(r,s){if(!e[r]){if(!o[r]){var l=r.split("/");if(l=l[l.length-1],!o[l]){var a="function"==typeof __require&&__require;if(!s&&a)return a(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+r+"'")}}var u=e[r]={exports:{}};o[r][0].call(u.exports,function(t){return i(o[r][1][t]||t)},u,u.exports,t,o,e,n)}return e[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({Index:[function(t,o,e){"use strict";cc._RF.push(o,"145e2ty02xOr7IYZoUiK9uW","Index"),cc.Class({extends:cc.Component,properties:{name_input:cc.EditBox,login_bt:cc.Button,wx_login_bt:cc.Button,login_tip_lb:cc.Label},onLoad:function(){this.login_bt.node.on("click",this.startScene,this),this.wx_login_bt.node.on("click",this.startScene,this),cc.director.preloadScene("hall")},onOpen:function(){var o=t("./global");t("./util/NetControl").send(' {"method":"iam","name":"'+o.name+'"} '),cc.director.loadScene("hall")},startScene:function(o){switch(o.node.name){case"login_bt":var e=this.name_input.string;if(console.log("name:"+e),e){var n=t("./global"),i=t("./util/NetControl");this.msssageFire=onfire.on("onopen",this.onOpen.bind(this)),i.connect(),n.name=e,this.login_tip_lb.string="\u7f51\u7edc\u8fde\u63a5\u4e2d\u3002\u3002\u3002"}else this.login_tip_lb.string="\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff01"}}}),cc._RF.pop()},{"./global":"global","./util/NetControl":"NetControl"}],NetConfig:[function(t,o,e){"use strict";cc._RF.push(o,"199e3DVZQVIzKw2kyqmc/TO","NetConfig"),o.exports={host:"ws://192.168.2.35:8002/"},cc._RF.pop()},{}],NetControl:[function(t,o,e){"use strict";cc._RF.push(o,"178ben1Us9KMZOa5UbmVL53","NetControl"),window.onfire=t("onfire");var n=t("NetConfig"),i={_sock:{},connect:function(){return 1!==this._sock.readyState&&(this._sock=new WebSocket(n.host),this._sock.onopen=this._onOpen.bind(this),this._sock.onclose=this._onClose.bind(this),this._sock.onmessage=this._onMessage.bind(this)),this},_onOpen:function(){onfire.fire("onopen")},_onClose:function(t){onfire.fire("onclose",t)},_onMessage:function(t){onfire.fire("onmessage",t)},send:function(t){this._sock.send(t),console.log("send msg"+t)},close:function(){this._sock.close(),console.log("_sock close")},onmessage:function(t){this._sock.onmessage(t)}};o.exports=i,cc._RF.pop()},{NetConfig:"NetConfig",onfire:"onfire"}],global:[function(t,o,e){"use strict";cc._RF.push(o,"5ecddaVKRNLQ5jFn0jjHj/j","global"),o.exports={name:"",data:{}},cc._RF.pop()},{}],hall:[function(t,o,e){"use strict";cc._RF.push(o,"7e886G/CrZCSZDxKi5HTSNh","hall"),cc.Class({extends:cc.Component,properties:{prefab_table_1v1:{default:null,type:cc.Prefab},prefab_table_2v2:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},list_bt:cc.Button,notice_bt:cc.Button,create_bt:cc.Button,single_bt:cc.Button,double_bt:cc.Button,set_bt:cc.Button,out_bt:cc.Button},update:function(){},onMessage:function(){},onLoad:function(){this.global=t("./global"),this.msssageFire=onfire.on("onmessage",this.onMessage.bind(this)),this.scheduleOnce(function(){this.init_table(),this.init_table_position()},0),this.out_bt.node.on("click",this.on_out_bt,this),cc.director.preloadScene("hall")},init_table_position:function(){for(var t=0;t<3;t++)for(var o=0;o<1;o++){var e="table_1v1_"+(3*o+t);(n=cc.find("Canvas/rooms/view/content/"+e)).setPosition(n.x+350*t-350,n.y-350*o-200)}for(t=0;t<3;t++)for(o=0;o<3;o++){var n;e="table_2v2_"+(3*o+t);(n=cc.find("Canvas/rooms/view/content/"+e)).setPosition(n.x+350*t-350,n.y-350*o-350-200)}},init_table:function(){for(var t=0;t<3;t++)for(var o=0;o<1;o++){(e=cc.instantiate(this.prefab_table_1v1)).name="table_1v1_"+(3*o+t),e.getChildByName("name").getComponent(cc.Label).string="1v1_"+(3*o+t),e.parent=this.content}for(t=0;t<3;t++)for(o=0;o<3;o++){var e;(e=cc.instantiate(this.prefab_table_2v2)).name="table_2v2_"+(3*o+t),e.getChildByName("name").getComponent(cc.Label).string="2v2_"+(3*o+t),e.parent=this.content}},on_out_bt:function(){t("./util/NetControl").close(),cc.director.loadScene("index")},start:function(){}}),cc._RF.pop()},{"./global":"global","./util/NetControl":"NetControl"}],onfire:[function(t,o,e){"use strict";cc._RF.push(o,"53b80cUeIdI/7Jkp7lRtD0H","onfire");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===(void 0===o?"undefined":n(o))&&o.exports?o.exports=e():t.onfire=e()}("undefined"!=typeof window?window:void 0,function(){var t={},o=0,e="string",i="function",c=Function.call.bind(Object.hasOwnProperty),r=Function.call.bind(Array.prototype.slice);function s(r,s,l,a){if((void 0===r?"undefined":n(r))!==e||(void 0===s?"undefined":n(s))!==i)throw new Error("args: "+e+", "+i);return c(t,r)||(t[r]={}),t[r][++o]=[s,l,a],[r,o]}function l(t,o){for(var e in t)c(t,e)&&o(e,t[e])}function a(o,e){c(t,o)&&l(t[o],function(n,i){i[0].apply(i[2],e),i[1]&&delete t[o][n]})}return{on:function(t,o,e){return s(t,o,0,e)},one:function(t,o,e){return s(t,o,1,e)},un:function(o){var r,s,a=!1,u=void 0===o?"undefined":n(o);return u===e?!!c(t,o)&&(delete t[o],!0):"object"===u?(r=o[0],s=o[1],!(!c(t,r)||!c(t[r],s)||(delete t[r][s],0))):u!==i||(l(t,function(e,n){l(n,function(n,i){i[0]===o&&(delete t[e][n],a=!0)})}),a)},fire:function(t){var o=r(arguments,1);setTimeout(function(){a(t,o)})},fireSync:function(t){a(t,r(arguments,1))},clear:function(){t={}}}}),cc._RF.pop()},{}],room:[function(t,o,e){"use strict";cc._RF.push(o,"797eb4g2slKxa6/knbeAttf","room"),cc.Class({extends:cc.Component,properties:{out_bt:cc.Button,voice_bt:cc.Button,talk_bt:cc.Button,ready_bt:cc.Button,no_ready_bt:cc.Button,play_bt:cc.Button,prefab_poker:{default:null,type:cc.Prefab},layout:cc.Layout,poker_up:cc.Sprite,poker_left:cc.Sprite,poker_down:cc.Sprite,poker_right:cc.Sprite},onLoad:function(){console.log("room onLoad"),this.util=t("./util/util"),this.curr_poker_num=4,this.curr_poker=[],this.out_bt.node.on("click",this.on_out_bt,this),this.load_pokers()},load_pokers:function(){console.log("room load_pokers");var t=this;t.pokers={},cc.loader.loadResDir("pokers",cc.SpriteFrame,function(o,e){var n=!0,i=!1,c=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value;t.pokers[l.name]=l}}catch(o){i=!0,c=o}finally{try{!n&&s.return&&s.return()}finally{if(i)throw c}}t.setPokers()}),console.log(t.pokers)},setPokers:function(){console.log("room setPokers");var t=!0,o=!1,e=void 0;try{for(var n,i=[202,203,204,205,207,208,209,210,211,111,212,313,414,305,111,212][Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var c=n.value,r=cc.instantiate(this.prefab_poker),s=r.getChildByName("img");s.getComponent(cc.Sprite).spriteFrame=this.pokers[c],s.poker=c,r.parent=this.layout.node,s.on(cc.Node.EventType.TOUCH_START,this.onPoker,this),s.on(cc.Node.EventType.TOUCH_MOVE,this.onPoker,this)}}catch(t){o=!0,e=t}finally{try{!t&&i.return&&i.return()}finally{if(o)throw e}}this.poker_up.spriteFrame=this.pokers[114],this.poker_down.spriteFrame=this.pokers[214],this.poker_left.spriteFrame=this.pokers[314],this.poker_right.spriteFrame=this.pokers[414]},onPoker:function(t){if(console.log("room onPoker"),"touchmove"!=t.type){console.log(t);var o=t.currentTarget;if(25==o.getPosition().y)o.setPosition(0,0),this.curr_poker=this.util.arrayDel(this.curr_poker,this.curr_poker.indexOf(o));else if(o.setPosition(0,25),this.curr_poker.push(o)>this.curr_poker_num)this.curr_poker.shift().setPosition(0,0)}else t.currentTarget.poker!=t.target.poker&&(console.log("diff"),console.log(currentTarget),console.log(target))},on_out_bt:function(){cc.director.loadScene("hall")},onMessage:function(t){console.log("room onMessage"),console.log(t)},start:function(){}}),cc._RF.pop()},{"./util/util":"util"}],table_1v1:[function(t,o,e){"use strict";cc._RF.push(o,"d7c0cH+Sl9D3abi9JwfdXmo","table_1v1"),cc.Class({extends:cc.Component,properties:{sit_up_lable:cc.Label,sit_down_lable:cc.Label,up_bt:cc.Button,down_bt:cc.Button},onLoad:function(){this.up_bt.node.on("click",this.on_up_bt,this),this.down_bt.node.on("click",this.on_down_bt,this)},onMessage:function(t){console.log(t),onfire.clear()},on_up_bt:function(){console.log("on_up_bt"),cc.director.loadScene("room")},on_down_bt:function(){console.log("on_down_bt"),cc.director.loadScene("room")},start:function(){}}),cc._RF.pop()},{}],util:[function(t,o,e){"use strict";cc._RF.push(o,"8ce37/uI6hPpIR8fHzrOjvM","util");o.exports={arrayDel:function(t,o){return o<0?t:t.slice(0,o).concat(t.slice(o+1,t.length))},onmessage:function(){}},cc._RF.pop()},{}]},{},["Index","global","hall","room","table_1v1","NetConfig","NetControl","onfire","util"]);