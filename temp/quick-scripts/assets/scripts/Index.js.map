{"version":3,"sources":["Index.js"],"names":["cc","Class","extends","Component","properties","name_input","EditBox","login_bt","Button","wx_login_bt","login_tip_lb","Label","onLoad","node","on","startScene","director","preloadScene","onOpen","global","require","netControl","send","name","loadScene","event","string","console","log","msssageFire","onfire","bind","connect"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAaL,GAAGM,OADR;AAERC,kBAAWP,GAAGQ,MAFN;AAGRC,qBAAcT,GAAGQ,MAHT;AAIRE,sBAAeV,GAAGW;AAJV,KAHP;;AAWLC,UAXK,oBAWK;;AAGN,aAAKL,QAAL,CAAcM,IAAd,CAAmBC,EAAnB,CAAsB,OAAtB,EAA8B,KAAKC,UAAnC,EAA8C,IAA9C;AACA,aAAKN,WAAL,CAAiBI,IAAjB,CAAsBC,EAAtB,CAAyB,OAAzB,EAAiC,KAAKC,UAAtC,EAAiD,IAAjD;;AAEA;AACAf,WAAGgB,QAAH,CAAYC,YAAZ,CAAyB,MAAzB;AACH,KAnBI;;;AAqBL;AACAC,UAtBK,oBAsBG;AACJ,YAAIC,SAASC,QAAQ,UAAR,CAAb;AACA,YAAIC,aAAaD,QAAQ,mBAAR,CAAjB;AACAC,mBAAWC,IAAX,CAAgB,8BAA4BH,OAAOI,IAAnC,GAAwC,KAAxD;AACAvB,WAAGgB,QAAH,CAAYQ,SAAZ,CAAsB,MAAtB;AACH,KA3BI;;;AA6BL;AACAT,cA9BK,sBA8BMU,KA9BN,EA8Ba;AACd,gBAAQA,MAAMZ,IAAN,CAAWU,IAAnB;AACI,iBAAM,UAAN;AACI,oBAAIA,OAAO,KAAKlB,UAAL,CAAgBqB,MAA3B;AACAC,wBAAQC,GAAR,CAAY,UAAQL,IAApB;AACA,oBAAGA,IAAH,EAAQ;AACJ;AACA,wBAAIJ,SAASC,QAAQ,UAAR,CAAb;AACA,wBAAIC,aAAaD,QAAQ,mBAAR,CAAjB;AACA,yBAAKS,WAAL,GAAiBC,OAAOhB,EAAP,CAAU,QAAV,EAAmB,KAAKI,MAAL,CAAYa,IAAZ,CAAiB,IAAjB,CAAnB,CAAjB;AACAV,+BAAWW,OAAX;AACAb,2BAAOI,IAAP,GAAcA,IAAd;AACA;AACA,yBAAKb,YAAL,CAAkBgB,MAAlB,GAA2B,UAA3B;AACH,iBATD,MASK;AACD,yBAAKhB,YAAL,CAAkBgB,MAAlB,GAA2B,SAA3B;AACH;AACD;AACJ,iBAAK,aAAL;AACI;AACJ;AACI;AApBR;AAuBH;AAtDI;;AA2DL;;AAEA;AA7DJ","file":"Index.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        name_input : cc.EditBox,\r\n        login_bt : cc.Button,\r\n        wx_login_bt : cc.Button,        \r\n        login_tip_lb : cc.Label\r\n    },\r\n\r\n\r\n    onLoad () {\r\n        \r\n\r\n        this.login_bt.node.on('click',this.startScene,this);\r\n        this.wx_login_bt.node.on('click',this.startScene,this);\r\n\r\n        //预加载场景\r\n        cc.director.preloadScene('hall');\r\n    },\r\n\r\n    //当连接建立时\r\n    onOpen(){\r\n        var global = require('./global');\r\n        var netControl = require('./util/NetControl');\r\n        netControl.send(' {\"method\":\"iam\",\"name\":\"'+global.name+'\"} ' );\r\n        cc.director.loadScene('hall');\r\n    },\r\n\r\n    //绑定用户按钮事件\r\n    startScene(event) {\r\n        switch (event.node.name) {\r\n            case  'login_bt':\r\n                var name = this.name_input.string;\r\n                console.log(\"name:\"+name);\r\n                if(name){\r\n                    //全局变量\r\n                    var global = require('./global');\r\n                    var netControl = require('./util/NetControl');\r\n                    this.msssageFire=onfire.on(\"onopen\",this.onOpen.bind(this));\r\n                    netControl.connect();\r\n                    global.name = name;\r\n                    //绑定事件\r\n                    this.login_tip_lb.string = '网络连接中。。。'\r\n                }else{\r\n                    this.login_tip_lb.string = '请输入用户名！'\r\n                }\r\n                break;\r\n            case 'wx_login_bt':\r\n                break;\r\n            default:\r\n                break\r\n        }\r\n\r\n    },\r\n\r\n\r\n\r\n\r\n    // start () {},\r\n\r\n    // update (dt) {},\r\n});\r\n"]}